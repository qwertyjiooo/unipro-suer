(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/homestays/details/details"],{"3c71":function(t,n,e){"use strict";e.r(n);var a=e("b032"),i=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a},"7d43":function(t,n,e){"use strict";var a=e("a149"),i=e.n(a);i.a},"8b51":function(t,n,e){"use strict";(function(t,n){var a=e("47a9");e("ab81"),e("861b");a(e("3240"));var i=a(e("9e7d"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(i.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])},"9e7d":function(t,n,e){"use strict";e.r(n);var a=e("b1b6"),i=e("3c71");for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("7d43");var s=e("828b"),u=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);n["default"]=u.exports},a149:function(t,n,e){},b032:function(t,n,e){"use strict";(function(t,a){var i=e("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("3b2d")),s=e("b25a"),u={data:function(){return{defaultPersonList:s.defaultPersonList,containList:s.containList,loadDataList:{},urlsArray:[],pic:0,cur:0,demandForm:{},demandFormUser:{}}},computed:{imagesExist:function(){return this.loadDataList&&this.loadDataList.routes&&this.loadDataList.routes[this.pic]&&this.loadDataList.routes[this.pic].day&&this.loadDataList.routes[this.pic].day[this.cur]&&this.loadDataList.routes[this.pic].day[this.cur].images},images:function(){return this.imagesExist?this.loadDataList.routes[this.pic].day[this.cur].images:[]}},onLoad:function(t){this.loadData(t.id)},methods:{clickInfoA:function(t,n){this.pic=t,this.cur=n,this.$refs.popupA.open("bottom")},closePopupA:function(){this.$refs.popupA.close()},clickInfoB:function(){this.$refs.popupB.open("bottom")},closePopupB:function(){this.$refs.popupB.close()},previewImage:function(n){t.previewImage({urls:this.urlsArray,current:n})},catalogue:function(){t.$emit("passRoutes",this.loadDataList.routes),t.navigateTo({url:"/pages/index/homestays/details/itinerary/itinerary"})},judgeAttractions:function(t){return 0===t?"景点":1===t?"酒店":2===t?"餐食":3===t?"行程":4===t?"活动":"购物"},loadData:function(n){var e=this;t.showLoading({title:"加载中...",mask:!0}),a.callFunction({name:"demo-homestays-information",data:{id:n}}).then((function(n){var a=n.result.data[0];e.loadDataList=a,console.log(e.loadDataList);var i={customizer_id:a.user[0]._id,route_id:a._id,status:0,customizaType:0,orderNumber:"",title:a.title,destination:"哈尔滨",playtime:"",NumberTravelers:"",budget:"",contacts:"",contactPhone:"",enterpriseName:""};console.log(i),e.demandForm=i;var s={userName:a.user[0].username,url:a.images[0].url,title:a.title};e.demandFormUser=s,e.loadDataList.images.forEach((function(t){"object"===(0,o.default)(t)&&t.url&&e.urlsArray.push(t.url)})),e.loadDataList.routes.forEach((function(t){t.day.forEach((function(t){0===t.level?(e.defaultPersonList[0].number++,e.containList[0].number++):1===t.level?(e.defaultPersonList[1].number++,e.containList[1].number++):2===t.level?(e.defaultPersonList[2].number++,e.containList[2].number++):3===t.level?(e.defaultPersonList[3].number++,e.containList[3].number++):4===t.level?(e.defaultPersonList[4].number++,e.containList[4].number++):e.defaultPersonList[5].number++}))})),t.hideLoading()}))}},beforeDestroy:function(){for(var t in s.defaultPersonList)s.defaultPersonList[t].number=0;for(var t in s.containList)t!==s.containList.length-1&&(s.containList[t].number=0)}};n.default=u}).call(this,e("df3c")["default"],e("861b")["default"])},b1b6:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var a={uniIcons:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(e.bind(null,"1efe"))},uniPopup:function(){return e.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(e.bind(null,"9be3"))}},i=function(){var t=this,n=t.$createElement,a=(t._self._c,t.loadDataList?t.urlsArray.length:null),i=t.loadDataList&&a>3?t.urlsArray.length:null,o=t.loadDataList&&t.loadDataList.routes?t.loadDataList.routes.length:null,s=t.loadDataList?encodeURIComponent(JSON.stringify(this.loadDataList.routes)):null,u=t.loadDataList?t.__map(t.loadDataList.routes,(function(n,e){var a=t.__get_orig(n),i=t.__map(n.day,(function(n,e){var a=t.__get_orig(n),i=3!==n.level?n.images&&n.images.length>0:null;return{$orig:a,g3:i}}));return{$orig:a,l0:i}})):null,r=t.loadDataList?encodeURIComponent(JSON.stringify(this.loadDataList.routes)):null,l=t.loadDataList?e("3826"):null,d=t.loadDataList&&t.imagesExist?t.images.length:null,c=t.loadDataList?e("3826"):null,f=t.loadDataList?encodeURIComponent(JSON.stringify(t.demandForm)):null,m=t.loadDataList?encodeURIComponent(JSON.stringify(t.demandFormUser)):null;t.$mp.data=Object.assign({},{$root:{g0:a,g1:i,g2:o,m0:s,l1:u,m1:r,m2:l,g4:d,m3:c,m4:f,m5:m}})},o=[]}},[["8b51","common/runtime","common/vendor"]]]);